"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[658],{776:function(Q,S,s){s.r(S),s.d(S,{default:function(){return E}});var N=s(90228),o=s.n(N),$=s(87999),m=s.n($),A=s(48305),h=s.n(A),c=s(75271),f=s(86639),j=s(45292),F=s(27130),P=s(45879),p=s(93966),l={container:"container___wL12H",selectButton:"selectButton___XdVCo",inputContainer:"inputContainer___L8neo",selectButton1:"selectButton1___CeISe",result:"result___VURgI",menu:"menu___tkuqc",menuItem:"menuItem___SVK5c",close:"close___jn2BM"},u=s(52676),R=function(){var T=(0,c.useState)("\u70B9\u51FB\u6309\u94AE\u5F00\u59CB\u9009\u62E9"),y=h()(T,2),V=y[0],L=y[1],M=(0,c.useState)([]),Z=h()(M,2),v=Z[0],G=Z[1],k=(0,c.useState)(""),B=h()(k,2),g=B[0],H=B[1],K=(0,c.useState)(!1),I=h()(K,2),O=I[0],D=I[1],C=function(){var t=m()(o()().mark(function a(){var n,r;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,p.Z.get("http://localhost:3000/api/dishes/getAllDishes");case 2:r=d.sent,G(r==null||(n=r.data)===null||n===void 0?void 0:n.data);case 4:case"end":return d.stop()}},a)}));return function(){return t.apply(this,arguments)}}();(0,c.useEffect)(function(){C()},[]);var U=function(){var a=v[Math.floor(Math.random()*v.length)];a&&setTimeout(function(){L("\u4ECA\u5929\u5403\uFF1A".concat(a==null?void 0:a.name))},200)},X=function(){var t=m()(o()().mark(function a(n){var r,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.post("http://localhost:3000/api/dishes/deleteDish",{name:n==null?void 0:n.name});case 3:i=e.sent,((r=i.data)===null||r===void 0?void 0:r.code)===200&&(f.ZP.success("\u5220\u9664\u6210\u529F"),C()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f.ZP.error("\u5220\u9664\u5931\u8D25");case 10:case"end":return e.stop()}},a,null,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),z=function(){var t=m()(o()().mark(function a(){var n,r,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),g){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,p.Z.post("http://localhost:3000/api/dishes/addDishes",{name:g});case 6:r=e.sent,((n=r.data)===null||n===void 0?void 0:n.code)===200&&(D(!1),f.ZP.success("\u6DFB\u52A0\u6210\u529F"),C()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),D(!1),f.ZP.error((i=e.t0.response.data)===null||i===void 0?void 0:i.message);case 14:case"end":return e.stop()}},a,null,[[3,10]])}));return function(){return t.apply(this,arguments)}}(),J=function(a){H(a.target.value)};return(0,u.jsxs)("div",{className:l.container,children:[(0,u.jsx)("h1",{children:"\u968F\u673A\u70B9\u83DC\u5DE5\u5177"}),(0,u.jsx)("div",{className:l.result,children:V}),(0,u.jsx)(j.ZP,{className:l.selectButton,type:"primary",onClick:U,children:"\u968F\u673A\u9009\u62E9"}),(0,u.jsxs)("div",{className:l.inputContainer,children:[(0,u.jsx)(F.Z,{value:g,placeholder:"\u8BF7\u8F93\u5165",onChange:J}),(0,u.jsx)(j.ZP,{loading:O,className:l.selectButton1,type:"primary",onClick:z,children:"\u65B0\u589E\u83DC\u54C1"})]}),(0,u.jsx)("div",{className:l.menu,children:v==null?void 0:v.map(function(t,a){return(0,u.jsxs)("div",{className:l.menuItem,children:[t==null?void 0:t.name," ",(0,u.jsx)(P.Z,{onClick:function(){return X(t)},className:l.close})]},a)})})]})},E=R}}]);
