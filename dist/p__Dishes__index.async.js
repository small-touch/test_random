"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[658],{776:function(Q,S,s){s.r(S),s.d(S,{default:function(){return T}});var $=s(90228),o=s.n($),A=s(87999),g=s.n(A),P=s(48305),f=s.n(P),c=s(75271),v=s(86639),Z=s(45292),R=s(27130),F=s(45879),m=s(93966),l={container:"container___wL12H",selectButton:"selectButton___XdVCo",inputContainer:"inputContainer___L8neo",selectButton1:"selectButton1___CeISe",result:"result___VURgI",menu:"menu___tkuqc",menuItem:"menuItem___SVK5c",close:"close___jn2BM"},u=s(52676);m.Z.defaults.baseURL="http://47.108.233.244:80/";var E=function(){var V=(0,c.useState)("\u70B9\u51FB\u6309\u94AE\u5F00\u59CB\u9009\u62E9"),j=f()(V,2),L=j[0],M=j[1],G=(0,c.useState)([]),y=f()(G,2),h=y[0],U=y[1],k=(0,c.useState)(""),B=f()(k,2),D=B[0],I=B[1],H=(0,c.useState)(!1),N=f()(H,2),K=N[0],p=N[1],C=function(){var t=g()(o()().mark(function a(){var n,r;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,m.Z.get("/api/dishes/getAllDishes");case 2:r=d.sent,U(r==null||(n=r.data)===null||n===void 0?void 0:n.data);case 4:case"end":return d.stop()}},a)}));return function(){return t.apply(this,arguments)}}();(0,c.useEffect)(function(){C()},[]);var O=function(){var a=h[Math.floor(Math.random()*h.length)];a&&setTimeout(function(){M("\u4ECA\u5929\u5403\uFF1A".concat(a==null?void 0:a.name))},200)},X=function(){var t=g()(o()().mark(function a(n){var r,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.post("/api/dishes/deleteDish",{name:n==null?void 0:n.name});case 3:i=e.sent,((r=i.data)===null||r===void 0?void 0:r.code)===200&&(v.ZP.success("\u5220\u9664\u6210\u529F"),C()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.ZP.error("\u5220\u9664\u5931\u8D25");case 10:case"end":return e.stop()}},a,null,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),z=function(){var t=g()(o()().mark(function a(){var n,r,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),D){e.next=4;break}return p(!1),e.abrupt("return",v.ZP.error("\u8BF7\u8F93\u5165\u83DC\u54C1\u540D\u79F0"));case 4:return e.prev=5,e.next=8,m.Z.post("/api/dishes/addDishes",{name:D});case 8:r=e.sent,((n=r.data)===null||n===void 0?void 0:n.code)===200&&(p(!1),v.ZP.success("\u6DFB\u52A0\u6210\u529F"),I(""),C()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),p(!1),v.ZP.error((i=e.t0.response.data)===null||i===void 0?void 0:i.message);case 16:case"end":return e.stop()}},a,null,[[5,12]])}));return function(){return t.apply(this,arguments)}}(),J=function(a){I(a.target.value)};return(0,u.jsxs)("div",{className:l.container,children:[(0,u.jsx)("h1",{children:"\u968F\u673A\u70B9\u83DC\u5DE5\u5177"}),(0,u.jsx)("div",{className:l.result,children:L}),(0,u.jsx)(Z.ZP,{className:l.selectButton,type:"primary",onClick:O,children:"\u968F\u673A\u9009\u62E9"}),(0,u.jsxs)("div",{className:l.inputContainer,children:[(0,u.jsx)(R.Z,{value:D,placeholder:"\u8BF7\u8F93\u5165",onChange:J}),(0,u.jsx)(Z.ZP,{loading:K,className:l.selectButton1,type:"primary",onClick:z,children:"\u65B0\u589E\u83DC\u54C1"})]}),(0,u.jsx)("div",{className:l.menu,children:h==null?void 0:h.map(function(t,a){return(0,u.jsxs)("div",{className:l.menuItem,children:[t==null?void 0:t.name," ",(0,u.jsx)(F.Z,{onClick:function(){return X(t)},className:l.close})]},a)})})]})},T=E}}]);
